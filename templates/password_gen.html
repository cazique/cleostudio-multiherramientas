{% extends "base.html" %}
{% block title %}Generador de Contrase√±as{% endblock %}
{% block content %}
<div class="card-tool">
    <div class="tool-header">
        <h1 class="tool-title">üîë Generador de Contrase√±as</h1>
        <p class="tool-description">Crea contrase√±as seguras y personalizables</p>
    </div>
    {% if password %}
    <div style="background:linear-gradient(135deg,#667eea,#764ba2);padding:30px;border-radius:12px;margin-bottom:30px;display:flex;justify-content:space-between;align-items:center">
        <code id="passwordText" style="font-size:1.8rem;color:white;font-family:'Courier New',monospace;word-break:break-all">{{ password }}</code>
        <button id="copyButton" onclick="copy()" style="background:rgba(255,255,255,0.2);border:2px solid white;color:white;padding:12px 20px;border-radius:8px;cursor:pointer"><i class="bi bi-clipboard"></i> Copiar</button>
    </div>
    {% endif %}
    {% if error %}<div class="alert-modern alert-error active">{{ error }}</div>{% endif %}
    <form method="GET">
        <div style="margin-bottom:25px">
            <label style="display:block;margin-bottom:10px;font-weight:600">Longitud: <span id="lengthValue" style="color:var(--primary);font-size:1.2rem">{{ p_length }}</span> caracteres</label>
            <input type="range" class="form-range" name="length" min="8" max="64" value="{{ p_length }}" oninput="document.getElementById('lengthValue').textContent=this.value" style="width:100%">
        </div>
        <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-bottom:25px">
            <div class="form-check form-switch"><input class="form-check-input" type="checkbox" name="lowercase" {% if p_lower %}checked{% endif %}><label class="form-check-label">Min√∫sculas (a-z)</label></div>
            <div class="form-check form-switch"><input class="form-check-input" type="checkbox" name="uppercase" {% if p_upper %}checked{% endif %}><label class="form-check-label">May√∫sculas (A-Z)</label></div>
            <div class="form-check form-switch"><input class="form-check-input" type="checkbox" name="numbers" {% if p_numbers %}checked{% endif %}><label class="form-check-label">N√∫meros (0-9)</label></div>
            <div class="form-check form-switch"><input class="form-check-input" type="checkbox" name="symbols" {% if p_symbols %}checked{% endif %}><label class="form-check-label">S√≠mbolos (!@#$%)</label></div>
        </div>
        <button type="submit" class="btn-gradient" style="width:100%;padding:16px"><i class="bi bi-arrow-clockwise"></i> Generar Nueva</button>
    </form>
</div>
<script>
function copy() {
    navigator.clipboard.writeText(document.getElementById('passwordText').textContent).then(() => {
        const btn = document.getElementById('copyButton');
        btn.style.background = 'rgba(72,187,120,0.3)';
        btn.innerHTML = '<i class="bi bi-check2"></i> Copiado!';
        setTimeout(() => { btn.style.background = 'rgba(255,255,255,0.2)'; btn.innerHTML = '<i class="bi bi-clipboard"></i> Copiar'; }, 2000);
    });
}
</script>
<style>.form-check-input:checked{background-color:var(--primary);border-color:var(--primary)}</style>
{% endblock %}
